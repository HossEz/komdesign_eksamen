<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="stylesheet.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <header>
        <div>
            <h1>Våpenproblemer i USA</h1>
            <a href="#introduction">Start historien</a>
        </div>
    </header>
    <section class="scrollContainer" id="introduction">
        <div class="scrollText">
            <p>Våpen vold er ett stort problem overalt i verden, men når det gjelder hvor det skjer mest, tar USA ledelsen. Ifølge USAfacts så er totale drept av våpen over 40.000 mennesker i 2021. Dette gjelder mord og selvmord ved våpenbruk. </p>
        </div>
    </section>
    <section class="scrollContainer" id="section2">
        <div class="scrollText">
            <p>Under Corona pandemien så har det økt med 45% død imellom 2019 og 2021. Med tanke på at det er stor våpen vold i USA, har lederne fortsatt ikke utestengt bruket av akkurat dette. </p>
        </div>
    </section>
    <section class="scrollContainer" id="section3">
        <div class="scrollText">
            <p>Ifølge Kyle (20), som bor i USA eller mer nærmere staten New York så er det ekstremt vanskelig å leve i frykt. Disse har blir oversatt til norsk.</p>
            <p>Hva er det som frykter deg mest når det gjelder våpen vold? - Jeg frykter ikke våpen vold i åpen gate så ekstremt mye, selv om dette er ett stort problem. Det som frykter meg mest, er å gå på skole. Skoler har høy rate når det gjelder skole skytinger. Dette kan skje når som helst og hvor som helst. Jeg går på skole frivillig, men ender opp med å hoppe over noen dager grunnet til akkurat denne frykten. Dette har en innvirkning på min mentale helse. Kyle forteller frykten med å dra på skole, hvor våpen kan bli dratt fram når som helst. Dette er ett stort problem som må bli tatt tak i, i USA.</p>
        </div>
    </section>
    <section class="scrollContainer" id="section4">
        <div class="scrollText">
            <p>Ved å se på visualiseringen nederst så kan du se hvilke stater som har et stort problem når det gjelder våpen vold. Denne visualiseringen viser død i 2021, ekskludert selvmord.  </p>
        </div>
    </section>
    <section id="section5">
        <div class="scrollText1">
            <h3>NB! Trykk på ett barene av for å endre fra dødsrate til død eller motsatt</h3>

            <canvas id="gunDeathsChart" width="100" height="40"></canvas>

    <script>
        const state = ["Wyoming", "West Virginia", "Wisconsin", "Washington", "Vermont", "Virginia", "Utah", "Texas", "Tennessee", "South Dakota", "South Carolina", "Rhode Island", "Pennsylvania", "Oregon", "Oklahoma", "Ohio", "New York", "Nevada", "New Mexico", "New Jersey", "New Hampshire", "Nebraska", "North Dakota", "North Carolina", "Montana", "Mississippi", "Missouri", "Minnesota", "Michigan", "Maine", "Maryland", "Massachusetts", "Louisiana", "Kentucky", "Kansas", "Indiana", "Illinois", "Idaho", "Iowa", "Hawaii", "Georgia", "Florida", "Delaware", "Connecticut", "Colorado", "California", "Arizona", "Arkansas", "Alabama", "Alaska"];
        const deathRate = [26.1, 17.3, 13.5, 11.2, 11.9, 14.3, 13.9, 15.6, 22.8, 14.3, 22.4, 5.6, 14.8, 14.9, 21.2, 16.5, 5.4, 19.8, 27.8, 5.2, 8.3, 10.3, 16.8, 17.3, 25.1, 33.9, 23.2, 10, 15.4, 12.6, 15.2, 3.4, 29.1, 21.1, 17.3, 18.4, 16.1, 16.3, 11.2, 4.8, 20.3, 14.1, 16.6, 6.7, 17.8, 9, 18.3, 23.3, 26.4, 25.2];
        const deaths = ["155", "319", "793", "896", "83", "1248", "450", "4613", "1569", "128", "1136", "64", "1905", "670", "836", "1911", "1078", "633", "578", "475", "123", "200", "128", "1839", "280", "962", "1414", "573", "1544", "178", "915", "247", "1314", "947", "503", "1251", "1995", "309", "364", "71", "22", "3142", "158", "248", "1064", "3576", "1365", "698", "1315", "182"];

        const deathsNum = deaths.map(death => parseInt(death.replace(/,/g, '')));

        const ctx = document.getElementById('gunDeathsChart').getContext('2d');

        let currentData = deathRate; 

        const chart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: state,
                datasets: [{
                    label: 'Dødsrate',
                    backgroundColor: 'rgba(52, 152, 219, 0.8)',
                    borderColor: 'rgba(52, 152, 219, 1)',
                    borderWidth: 1,
                    data: currentData,
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Dødsrate'
                        }
                    },
                    x: {
                        title: {
                            display: true,
                            text: 'Stater'
                        }
                    }
                },
                onClick: function (event, elements) {
                    if (elements.length > 0) {
                        const index = elements[0].index;
                        toggleData(index);
                    }
                }
            }
        });

        function toggleData(index) {
            if (currentData === deathRate) {
                currentData = deathsNum;
                chart.data.datasets[0].label = 'Død';
            } else {
                currentData = deathRate;
                chart.data.datasets[0].label = 'Dødsrate';
            }

            chart.data.datasets[0].data = currentData;
            chart.update();
        }
    </script>
    </div>
</section>
    <section class="scrollContainer" id="section5">
        <div class="scrollText">
            <p> Visualiseringen viser døds raten i de forskjellige statene. Som man kan se er det størst dødsrate i Mississippi, men flest har blitt drept i texas.</p>
        </div>
    </section>
    <section class="scrollContainer" id="section6">
        <div class="scrollText">
            <p> Som man kan se er dødsraten ekstremt høy, grunnen til dette er at våpenbruk er lovlig i USA, men dette er mye lavere enn andre latin amerikanske land. I følge Pewsearch er USA satt i 20. plass i 2016 når det gjelder våpen vold. </p>
        </div>
    </section>
    <footer>
        <h2>Kilder</h2>
        <a class="scrollText3" href="https://usafacts.org/data/topics/security-safety/crime-and-justice/firearms/firearm-deaths/">https://usafacts.org/data/topics/security-safety/crime-and-justice/firearms/firearm-deaths/</a>
        <a class="scrollText3" href="https://www.pewresearch.org/short-reads/2023/04/26/what-the-data-says-about-gun-deaths-in-the-u-s/">https://www.pewresearch.org/short-reads/2023/04/26/what-the-data-says-about-gun-deaths-in-the-u-s/</a>
        <a class="scrollText3" href="https://abcnews.go.com/US/americas-gun-violence-problem-numbers/story?id=85136358">https://abcnews.go.com/US/americas-gun-violence-problem-numbers/story?id=85136358</a>
        <p>Bildene er alle fra unsplash sine gratis bilder.</p>
        <a class="scrollText3" href="https://unsplash.com/">https://unsplash.com/</a>
        <p>Dataen er fra cdcgov, brukt Tablecapture for å få brukt dataen</p>
        <a class="scrollText3" href="https://www.cdc.gov/nchs/pressroom/sosmap/firearm_mortality/firearm.htm">https://www.cdc.gov/nchs/pressroom/sosmap/firearm_mortality/firearm.htm</a>
    </footer>
    <script src="script.js" defer></script>
</body>
</html>